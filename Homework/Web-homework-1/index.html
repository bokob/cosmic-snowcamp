<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <p>생일 출력하기</p>
    <p>0. 박정현, 1. 복무창, 2.오민석, 3.한규원, 4.김도영, 5.김준호, 6.문희범</p>
    <form action="">
        <input id = "input_id" type="text"> 번호를 입력하시오
        <button onclick="request(); return false;">출력</button>
    </form>
    <div id="birth_info">

    </div>
    
    <script>
        const url = 'https://my-json-server.typicode.com/smashh712/json_placeholder/members/'
        async function request(){
            var temp_id = document.querySelector('#input_id');
            var member_id = temp_id.value;
            full_url = url + member_id;
            const response = await fetch(full_url,{
                method: 'GET',
            })
            const data = await response.json();
            //console.log(data)
            //console.log(data.birth);
            //console.log(data.name);
            //console.log(data.birth.slice(0,2));

            var newText = document.createTextNode(
                data.name + '의 생일은 ' +
                data.birth.slice(0,2) + '년 ' + data.birth.slice(2,4) + '월 '
                + data.birth.slice(4,6) + '일 입니다.');
                //  텍스트 노드 완성

            //console.log(newText);
            var Item = document.querySelector('#birth_info');
            var newP = document.createElement('li');
            newP.appendChild(newText);
            Item.appendChild(newP);

            temp_id.value="";
        }
    </script>
</body>
</html>
